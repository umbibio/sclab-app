# SCLab-App Constructor Configuration
name: SCLab-App
version: 0.1.0
license_file: LICENSE.txt

channels:
  - conda-forge
  - bioconda

specs:
  # Base Python environment
  - python=3.12

  # Core scientific computing
  - numpy<2.2
  - pandas
  - matplotlib
  - scikit-learn
  - tqdm
  - requests

  # Single-cell specific
  - anndata
  - scanpy
  - h5py
  - igraph
  - python-igraph
  - leidenalg

  # Jupyter ecosystem
  - jupyterlab>=4.3.6
  - ipywidgets
  - voila>=0.5
  - nodejs

  # Visualization
  - plotly<6.0
  - itables<2.4

  # Additional dependencies
  - anywidget
  - ripser>=0.6.12
  - svgpathtools

# Welcome screen
welcome_text: |
  Welcome to SCLab-App!
  
  SCLab-App is an interactive single-cell analysis toolkit that provides 
  a seamless interface for analyzing and visualizing single-cell RNA 
  sequencing data.
  
  After installation, you can launch SCLab-App in several ways:
  • SCLab-App: Full JupyterLab environment (auto-opens browser)
  • SCLab-App Dashboard: Streamlined analysis dashboard
  • SCLab-App Server: Start server only (manual browser navigation)
  
  Default analysis notebooks will be created in your Documents folder.

# Post-install script to set up launchers and notebooks
post_install: scripts/setup_sclab_app.py

# Include default notebooks and assets
extra_files:
  - dist/sclab_app-0.1.0-py3-none-any.whl

# Installation options
# Use a Windows-safe default prefix (no spaces) to avoid NSIS ExpandEnvStrings tokenization issues.
# On Unix-like systems, constructor will still resolve this to a sensible path.
default_prefix: "%USERPROFILE%\\SCLabApp"
register_python: false
initialize_by_default: false

# Batch/silent installation support
batch_mode: false

 
